<html>
<body>

<h1><font size="6">Virtual Dance Pad</font></h1>

<hr>
<font size="3"><a name="Table of Contents">Table of Contents</a></font><hr>
<font size="2">
<br>
<a href="#About">About</a><br>
<a href="#About StepMania">About StepMania</a><br>
<a href="#Minimum Requirements">Minimum Requirements</a><br>
<a href="#Main Window">Main Window</a><br>
<a href="#Main Calibration Window">Main Calibration Window</a><br>
<a href="#Setup Window">Setup Window</a><br>
<a href="#Control Picture Window">Control Picture Window</a><br>
<a href="#Control Picture Confirmation Window">Control Picture Confirmation Window</a><br>
<a href="#Adjust Window">Adjust Window</a><br>
<a href="#Sensitivity Window">Sensitivity Window</a><br>
<a href="#Configure Window">Configure Window</a><br>
<br>
<a href="#Webcam Feed">Webcam Feed</a><br>
<a href="#Creating Virtual Dance Pad">Creating Virtual Dance Pad</a><br>
<a href="#Control Picture">Control Picture</a><br>
<a href="#Interacting with Stepmania">Interacting with Stepmania</a><br>
<a href="#Configuring Stepmania">Configuring Stepmania</a><br>
<a href="#Judging Difficulty">Judging Difficulty</a><br>
<a href="#FAQ">FAQ</a><br>
<a href="#Known Issues">Known Issues</a><br>


<a name="About">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
About</font></a><font size="2"> (<a href="#Table of Contents">Top</a>)</font><hr>
<font size="2">
<br>
A-Level Project. Virtual Dance Pad for Stepmania.
<br><br>
The aim of this project is to create a piece of software which creates a Virtual Dance Pad
allowing the user to play Stepmania without having to own a physical dance mat.
This is to be done using a single webcam.
<br>
This is in no way a replacement for physical dance mats.
The latency will be significantly worse, potentially unplayable depending on hardware.
<br><br>
Stepmania: <a href="http://www.stepmania.com">http://www.stepmania.com</a><br>
Github: <a href="https://github.com/Drew0912/Virtual-Dance-Pad">https://github.com/Drew0912/Virtual-Dance-Pad</a>
<br>

<a name="About StepMania">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
About StepMania</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
StepMania is capable of playing many game types. Currently, it supports games
similar to Dance Dance Revolution, Pump It Up, EZ 2 Dancer, and Para Para
Paradise. In the future, it will support games similar to BeatMania, Guitar
Freaks, DrumMania, and more.<br>
<br>
The games played by StepMania are rhythm games. Notes scroll up from
the bottom of the screen, and the player must hit the corresponding
button on the controller in time to the music. All games can be played
using the keyboard, but the real fun comes when using specially
designed controllers, like a dance pad or hand sensors.<br>
<br>

<a name="Minimum Requirements">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Minimum Requirements</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
* Requirements for Stepmania<br>
* Windows<br>
* Webcam or Camera<br>

<a name="Main Window">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Main Window</font></a><font size="2"> (<a href="#Table of Contents">Top</a>)</font><hr>
<font size="2">
<br>
Pressing the "Open Webcam" button will open up the webcam feed for the selected webcam from the drop down menu at the top of the window.<br>
The drop down menu to select the webcam only has numbers. Should be 0 by default.
If it is not the right webcam, select a different number and try again.<br>
Webcam feed can only be opened once. Program has to be restarted to reopen the webcam feed.<br>
Pressing the "Calibrate/Setup" button will open up and start the setup process.
Webcam feed must be open before setup process can start.<br>
Calibrating the dance mat can also be done from here.<br>
Pressing the "Help" button will open up this webpage.<br>
Pressing the "Start" button will tell the program to start interacting with Stepmania.
<br>

<a name="Main Calibration Window">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Main Calibration</font></a><font size="2"> (<a href="#Table of Contents">Top</a>)</font><hr>
<font size="2">
<br>
Pressing the "Setup" button will continue the setup process allowing you to create the Virtual Dance Pad.<br>
Pressing the "Configure" button will open up a window to select which arrow each box means.<br>
Pressing the "Sensitivity" button will open up a window to change the sensitivity of the Virtual Dance Pad.<br>
Pressing the "Finish" button will close this window.<br>
Pressing the "Help" button will open up this webpage.<br>
<br>

<a name="Setup Window">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Setup</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
Follow instruction displayed on window to create Virtual Dance Pad.
Click on the webcam feed to create 2 corners. One in the top left and the other in the bottom right of where you want the 3x3 grid.<br>
Pressing the "Reset" button will reset any corners that have been made.<br>
Pressing the "Adjust" button will open up a window to change the size of the Virtual Dance Pad.<br>
Pressing the "Next" button will continue the setup process.<br>
Pressing the "Back" button will close the window.<br>
Pressing the "Help" button will open up this webpage.<br>
<br>

<a name="Control Picture Window">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Control Picture Window</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
Follow instruction displayed on window to create a control picture - 
Make sure that the image displayed on the webcam feed is clear and that the user is standing on the center box of the 3x3 grid.<br>
Pressing the "Take Picture" button will take the control picture.<br>
Pressing the "Back" button will close the window.<br>
Pressing the "Help" button will open up this webpage.<br>
<a href="#Control Picture">Click to go to Control Picture.</a>
<br>

<a name="Control Picture Confirmation Window">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Control Picture Confirmation Window</font></a><font size="2"> (<a href="#Table of Contents">Top</a>)</font><hr>
<font size="2">
<br>
Shown on the left is the control picture which is to be saved locally and to be used by the program.<br>
Pressing the "Retake" button will close this window and you can take another control picture.<br>
Pressing the "Yes" button will finish the Setup process and instructions will appear on screen. Below are these instructions:<br>
Close all windows but Main Calibration and Main Window.<br>
Pressing the "Help" button will open up this webpage.<br>
<br>

<a name="Adjust Window">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Adjust Window</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
The top row of buttons changes the location of the top left corner of the 3x3 grid.<br>
The bottom row of buttons changes the location of the bottom right corner of the 3x3 grid.<br>
Pressing the "Reset" button will remove any corners made on the webcam feed.<br>
Pressing the "Help" button will open up this webpage.<br>
Pressing the "Back" button will close this window.<br>
<br>

<a name="Sensitivity Window">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Sensitivity Window</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
This window acts like a table where everything under a number is for that numbered box. The row for Detection value are the values for each box that the program works out at that exact moment.<br>
Change the upper and lower limits so that when the detection value is inbetween the 2 limits, the program will press an arrow in game.<br>
Press the "Save" button to save the numbers that you have inputted. Make sure that the numbers you have inputted are floating/real numbers.<br>
<br>

<a name="Configure Window">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Configure Window</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
Use this window to set which arrow each of the 4 main boxes will press.<br>
By default:<br>
* Box 1 is Front<br>
* Box 2 is Left<br>
* Box 3 is Back<br>
* Box 4 is Right<br>
<br>


<a name="Webcam Feed">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Webcam Feed</font></a><font size="2"> (<a href="#Table of Contents">Top</a>)</font><hr>
<font size="2">
<br>
To open the webcam feed, press the "Open Webcam" button on the main window.<br>
To select which webcam is being used, use the drop down menu in the main window. The list is numbers and not names of the webcam. 0 is default, try each number if the selected webcam is not right.<br>
Webcam feed can only be opened once, restart program if you need to open the webcam feed again.<br>
The numbers in the drop down menu will mean the same webcam after closing and reopening the program.<br>
<br>

<a name="Creating Virtual Dance Pad">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Creating Virtual Dance Pad</font></a><font size="2"> (<a href="#Table of Contents">Top</a>)</font><hr>
<font size="2">
<br>
To create the virtual dance pad, left click on the webcam feed to create one corner. Then left click to create the opposite corner and therefore 3x3 grid.<br>
Make sure that the first corner is the top left corner of the virtual dance pad.<br>
Press the "Reset" button in the GUI to reset any corners made.<br>
The size of the virtual dance pad can be changed without resetting by using the Adjust window.<br>
<br>

<a name="Control Picture">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Control Picture</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
The control picture needs to have the user standing on the center box of the 3x3 grid displayed on the webcam feed after creating the Virtual Dance Pad.
Try to make the control picture as clear as possible. E.g: bright lighting.<br>
After creating the control picture, do not move the webcam/camera as this could mess up the calibration.<br>
The control picture will be saved in the same folder as the executable with the name "control_picture.jpg".<br>
Every time a control picture is made, the previous control picture is overwritten.<br>
<br>

<a name="Interacting with Stepmania">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Interacting with Stepmania</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
After pressing the "Start" button on the main window, the program will start interacting with Stepmania.<br>
This works by having keyboard marcos for the 4 main boxes. The four keys used by the program are wasd.<br>
Press the "Stop" button to tell the program to stop interacting with Stepmania.<br>
<br>

<a name="Configuring Stepmania">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Configuring Stepmania</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
For the program to work with Stepmania, the key binds have to be set up. This can be done in 2 ways:<br>
Option one:<br>
To access the key binds, open settings using the scroll lock key and select "Config Key/Joy Mappings". Change the following setting by selecting the option and pressing the corresponding key.<br>
* Key W for Up<br>
* Key A for Left<br>
* key S for Down<br>
* Key D for Right<br>
<br>
Option two:<br>
Copy the "Keymaps.ini" file from the folder with the program to the saves folder for Stepmania. The saves folder will be in the games directory or in the users appdata.<br>
<br>

<a name="Judging Difficulty">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Judging Difficulty</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
Changing the Judging Difficulty will change the size of the timing window meaning that there can be more time in which pressing an arrow is correct.<br>
To change this, open the setting menu from the start and open Advanced Option. You should see an option called Judge Difficulty.<br>
Setting this to a lower value will increase the size of the timint window. Recommended value is 1.<br>
Default Fail Type can also be changed here. This is what happens when the player runs out of life. Details on what each option does is displayed in game.<br>
<br>

<a name="FAQ">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
FAQ</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
Add info...<br>
<br>

<a name="Known Issues">
<font face="Courier New" size="2">
<hr></font>
<font size="3">
Known Issues</font></a><font size="2"> (<a href="#Table of Contents">top</a>)</font><hr>
<font size="2">
<br>
Moving the Main window before closing the alert window telling the user to open the webcam first results in the program crashing.<br>
<br>

<hr>
<font size="2">End of document </font>
<hr>




</body>

</html>